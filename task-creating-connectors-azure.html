<!DOCTYPE html>
<html lang="en">
  <head class="at-element-marker">
  <title>Create a Connector in Azure from BlueXP | NetApp Documentation</title>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="language" content="en">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta property="og:title" content="Create a Connector in Azure from BlueXP | NetApp Documentation" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-creating-connectors-azure.html" />
	<meta property="og:description" content="A BlueXP Account Admin needs to deploy a Connector before you can use most BlueXP features. The Connector enables BlueXP to manage resources and processes wi..." />
  <meta property="og:image" content="https://docs.netapp.com/us-en/cloud-manager-setup-admin/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/><meta name="description" content="A BlueXP Account Admin needs to deploy a Connector before you can use most BlueXP features. The Connector enables BlueXP to manage resources and processes wi...">
  <meta name="keywords" content=" create connector in azure, launch connector in azure, deploy connector in azure, azure connector, connector azure, connector permissions, create custom role, create azure custom role, azure custom role"><!-- Icons -->
  <link rel="icon" href="/us-en/cloud-manager-setup-admin/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed --><link rel="alternate" type="application/rss+xml" title="NetApp Documentation" href="/us-en/cloud-manager-setup-admin/feed.xml"><!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- Combined CSS -->
  <link rel="stylesheet" type="text/css" href="/us-en/cloud-manager-setup-admin/css/netappdocs.css">

  
  <link rel="stylesheet" href="/us-en/cloud-manager-setup-admin/css/landing-page.css" type="text/css">
  <link rel="stylesheet" href="/us-en/cloud-manager-setup-admin/css/tabbed-blocks.css" type="text/css">
  <!-- Canonical url -->
  <link rel='stylesheet' href='/us-en/cloud-manager-setup-admin/css/na-feature.css' type='text/css'><!-- Top level site integrations --><script>
    function addAdobeLaunch(adobeId) {
      var head = document.getElementsByTagName('head')[0];
      var adobe = document.createElement("script");
      adobe.type = "text/plain";
      adobe.className = "optanon-category-C0002";
      adobe.src = "//assets.adobedtm.com/60287eadf1ee/c284da483c83/"+adobeId+".min.js";
      head.appendChild(adobe);
    }

    function addGoogleAnalytics(gtagId) {
      var google = document.createElement("script");
      google.type = "text/plain";
      google.className = "optanon-category-C0002";
      google.src = "https://www.googletagmanager.com/gtag/js?id="+gtagId;
      var head = document.getElementsByTagName('head')[0];
      head.appendChild(google);

      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', gtagId);
    }

    function addConsent(consentId) {
      var head = document.getElementsByTagName('head')[0];
      var onetrustConsent = document.createElement("script");
      onetrustConsent.type = "text/javascript";
      onetrustConsent.src = "https://cdn.cookielaw.org/consent/"+consentId+"/OtAutoBlock.js";
      head.appendChild(onetrustConsent);

      var onetrustScript = document.createElement("script");
      onetrustScript.type = "text/javascript";
      onetrustScript.src = "https://cdn.cookielaw.org/scripttemplates/otSDKStub.js";
      onetrustScript.charset = "UTF-8";
      onetrustScript.dataset.documentLanguage = "true";
      onetrustScript.dataset.domainScript = consentId;
      head.appendChild(onetrustScript);
    }addConsent("72570c5c-fe30-465f-b0e0-b77f7fb4ae34");
    addAdobeLaunch("launch-e9ff3acac59f");
    addGoogleAnalytics("UA-81697994-3");function OptanonWrapper() { }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

  <!-- Used for Product Family Page Sidebar Visibility --><!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script><script src='/us-en/cloud-manager-setup-admin/js/na-search.js'></script><script src='/us-en/cloud-manager-setup-admin/js/na-pagenav.js'></script><script src='/us-en/cloud-manager-setup-admin/js/na-utility.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/clouddocs.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/us-en/cloud-manager-setup-admin/js/toc.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/customscripts.js'></script><script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

          $(".sidebar-nav-container").on("scroll", function() {
            $.cookie("sidebarScroll", $(".sidebar-nav-container").scrollTop(), {
              path    : "/us-en/cloud-manager-setup-admin"  
            });
          });
          $(function() {
            if ($.cookie("sidebarScroll")) {
              $(".sidebar-nav-container").scrollTop($.cookie("sidebarScroll"));
            }
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>
  <script src='/us-en/cloud-manager-setup-admin/js/custom-dropdown.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/FileSaver.min.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/jszip-utils.min.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/jszip.min.js'></script>
  <script src='/us-en/cloud-manager-setup-admin/js/pdf-ux.js'></script>
</head>


  <body class role="document" data-flavor="">
    <div id="page" class="n-off-canvas-menu">
      <div class="n-off-canvas-menu__menu"><!--TODO: Add offcanvas code --></div>
      <div class="n-off-canvas-menu__content-wrap">
        <header class="site-header" id="banner">
  
  <!-- Start Page Toolbar -->
  
  <div class="page-nav-toolbar"><div class="page-nav-contribute"><a target="_blank" href="https://github.com/NetAppDocs/cloud-manager-setup-admin/issues/new?body=Page%3A%20[Create a Connector in Azure from BlueXP](https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-creating-connectors-azure.html)&template=public-issue-template.md" class="page-nav-contribute-link" role="button"><img src="/us-en/cloud-manager-setup-admin/images/discuss-sm.svg" alt="" class="github-icon" />Request doc changes</a><a target="_blank" href="https://github.com/NetAppDocs/cloud-manager-setup-admin/blob/main/task-creating-connectors-azure.adoc" class="page-nav-contribute-link" role="button"><img src="/us-en/cloud-manager-setup-admin/images/edit-sm.svg" alt="" class="github-icon" />Edit this page</a><a target="_blank" href="https://docs.netapp.com/us-en/contribute/" class="page-nav-contribute-link"  ><img src="/us-en/cloud-manager-setup-admin/images/article-sm.svg" alt="" class="github-icon" />Learn how to contribute</a></div>
    <div class="page-nav-container">
      <nav class="page-nav-fixed">
        <div class="page-nav-title">ON THIS PAGE</div>
        <div class="page-nav-links">
          <ul class="page-nav-inner" id="page-menu"></ul>
        </div>
      </nav>
    </div>
  </div>
  
  
  <!-- Start top_hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/products-a-z/" class="n-top-hat__link">Product and Solutions</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/support-and-training/netapp-university/" class="n-top-hat__link">Support and Training</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://cloud.netapp.com" class="n-top-hat__link">Cloud Central</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://community.netapp.com/" class="n-top-hat__link">Community</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://blog.netapp.com/" class="n-top-hat__link">Blog</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://customers.netapp.com/en/" class="n-top-hat__link">Customer Stories</a>
          </li>
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
      <div class="n-top-hat__utils">
        <ul class="n-top-hat__list">
          <li class="n-top-hat__list-item">
            <a href="https://www.netapp.com/us/contact-us/index.aspx" target="_self" class="n-top-hat__link" data-ntap-ui="contact-us">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <!-- End top_hat -->

  <!-- Start property bar -->
  <style>
    .n-property-navigation-bar__menus--desktop-experience .n-menu--mega__default-content__heading span {
    color: #34B0FF;
    }
  </style>
  <div class="n-property-bar " data-ntap-ui="sticky-nav">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link">
          <span class="n-property-bar__menu-toggle-text">Menu</span>
          <svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
            <title>bars</title>
            <use xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#bars"></use>
          </svg>
        </a>
      </div>
      <div class="n-property-bar__property-mark ">
        <a href="https://www.netapp.com" class="n-property-bar__property-link">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-icon-netapp-logo n-property-bar__logo-svg" aria-labelledby="title">
              <title>netapp-logo</title>
              <use xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
        </a>
      </div>

      
      
      
      <div class="search-property-bar">
        <div id="search-demo-container" class="searchbox n-property-bar__search">
          <div id="react-search" 
          data-search-html="/us-en/cloud-manager-setup-admin/search.html"
          data-type="widget" 
          data-placeholder="Search Documentation"
          data-no-results-found="No results were found for {query}"
          data-did-you-mean="Search for {suggestion}."
          data-no-results-found-did-you-mean="No results found for {query}. Did you mean {suggestion}?"
          data-results-found="{hitCount} results found"
          data-error-message="We're sorry, an issue occurred when fetching your results. Please try again."
          data-error-reset="Reset Search"
          data-sk-es-pf-indexes=""
          data-flavor=""></div>
          <button class="n-property-bar__search-toggle-button" type="button">
            <svg class="n-icon-search n-property-bar__search-toggle-button-icon" aria-labelledby="title">
              <title>search</title>
              <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#search"></use>
            </svg>
          </button>
        </div>
      </div>
      
    </div>
  </div>
  <div class="n-property-bar__toolbar">
    <!-- Start Language Selector --><div id="language-dropdown" class="custom-dropdown custom-dropdown-lang">
      <div class="custom-dropdown-select custom-dropdown-select-lang">
      <span class="lang-name">English</span>
          <svg class="n-globe__icon" aria-labelledby="title">
            <title>globe</title>
            <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#globe"></use>
          </svg>
        </button>
      </div>

      <ul class="custom-dropdown-menu"><li>
          <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">English</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ja-jp/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">日本語</span></a>
        </li><li>
          <a href="https://docs.netapp.com/zh-cn/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">简体中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/zh-tw/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">繁體中文</span></a>
        </li><li>
          <a href="https://docs.netapp.com/ko-kr/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">한국어</span></a>
        </li><li>
          <a href="https://docs.netapp.com/fr-fr/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">Français</span></a>
        </li><li>
          <a href="https://docs.netapp.com/de-de/cloud-manager-setup-admin/task-creating-connectors-azure.html" target="_self"><span translate="no" class="notranslate">Deutsch</span></a>
        </li></ul>
    </div><!-- End Language Selector -->

    <div class="n-property-bar__cta"></div>
  </div>
  <script>
    $(function(){
        var currentLocalization = $('html').attr('lang');

        var localizationsDictionary = {
            "en-CA" : "https://www.netapp.com/search/index.aspx?for_cr=canada&",
            "en-IN" : "https://www.netapp.com/search/index.aspx?for_cr=india&",
            "nl-NL" : "https://www.netapp.com/search/index.aspx?for_cr=netherlands&",
            "ru-RU" : "https://www.netapp.com/search/index.aspx?for_cr=russia&",
            "sv-SE" : "https://www.netapp.com/search/index.aspx?for_cr=sweden&",
            "it-IT" : "https://www.netapp.com/search/index.aspx?for_cr=italy&",
            "he-IL" : "https://www.netapp.com/search/index.aspx?for_cr=israel&",
            "ko-KR" : "https://www.netapp.com/search/index.aspx?for_cr=korea&",
            "zh-TW" : "https://www.netapp.com/search/index.aspx?for_cr=taiwan&",
            "en-GB" : "https://www.netapp.com/search/index.aspx?for_cr=unitedkingdom&",
            "en-SG" : "https://www.netapp.com/search/index.aspx?for_cr=asean&",
            "en-AU" : "https://www.netapp.com/search/index.aspx?for_cr=australia&",
            "pt-BR" : "https://www.netapp.com/search/index.aspx?for_cr=brasil&",
            "de-CH" : "https://www.netapp.com/search/index.aspx?for_cr=switzerland&",
            "es-MX" : "https://www.netapp.com/search/index.aspx?for_cr=mexico&"
        };

        if($('html').hasClass('ntap-whitelisted') && localizationsDictionary.hasOwnProperty(currentLocalization)) {
            $('.n-property-bar__property-link').attr('href', '/');
        }
    });
  </script>
  <!-- End property bar -->
</header>


        <main id="n-main-content" class="n-main-content">
          <!-- Start Documentation Content -->
<div class="ie-main">
  <!-- Sidebar Column -->
  
  <div class="col-md-3" id="sidebar-height">
      <button id="btn-sidebar-collapse" onclick="hideSidebar()"><img src="/us-en/cloud-manager-setup-admin/images/collapse.png" alt="Collapse navigation panel"></button>
      <div class="n-pdf-header">
  <a id="toggleButtonPdf" class="n-pdf-button" type="button">
    <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>Available PDFs<span>
    </span>
  </a>
</div>
<div class="n-pdf-body-container">
  <ul id="toggleContainerPdf" class="n-pdf-body" style="display:none;"><li class="pdf-ux-container">
        
        
        
        <a target="_blank" href="/us-en/cloud-manager-setup-admin/pdfs/fullsite-sidebar/Set_up_and_administer_BlueXP.pdf" >
          <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>PDF of this doc site</a>



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Release_notes.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Release notes
          </a>
          




        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Get_started.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Get started
          </a>
          







    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Set_up_a_NetApp_account.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Set up a NetApp account
          </a>
          




        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Set_up_a_Connector.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Set up a Connector
          </a>
          




    <ul class="subfolders" id="pdf-remove" style="display:none;"><li class="active"></li></ul>
  






        </li>
      </ul>
    

  




        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Administer_BlueXP.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Administer BlueXP
          </a>
          

    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/NetApp_accounts.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            NetApp accounts
          </a>
          






        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Connectors.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Connectors
          </a>
          

    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Advanced_deployment.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Advanced deployment
          </a>
          








        </li>
      </ul>
    

  












        </li>
      </ul>
    

  





    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Discovered_cloud_storage.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Discovered cloud storage
          </a>
          






        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/AWS_credentials.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            AWS credentials
          </a>
          




        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Azure_credentials.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Azure credentials
          </a>
          




        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Google_Cloud_credentials.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Google Cloud credentials
          </a>
          




        </li>
      </ul>
    

  






        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Reference.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Reference
          </a>
          

    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Permissions.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Permissions
          </a>
          








        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Ports.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Ports
          </a>
          








        </li>
      </ul>
    

  


        </li>
      </ul>
    

  



    
      <ul class="subfolders" style="display:none;">
        <li class="pdf-ux-container">
          
          
          
          <a target="_blank" 
            
              href="/us-en/cloud-manager-setup-admin/pdfs/sidebar/Knowledge_and_support.pdf" 
            
          >
            <img src="/us-en/cloud-manager-setup-admin/images/pdf.png" alt="" width="16" height="16"/>
            Knowledge and support
          </a>
          




        </li>
      </ul>
    

  



</li></ul>
  <div class="zip-pdf-link-container" style="display: none;">   
    <a href="#" id="zipPdf">
      <img src="/us-en/cloud-manager-setup-admin/images/pdf-zip.png" alt="" width="16" height="16"/>
      <pre>Collection of separate PDF docs<span class="zip-size"></span></pre>
    </a><div id="zip-link-popup" class="hide">
    <div class="inner-modal">
        <div class="downloading-progress">
            <div class="spinner"></div>
            <h1>Creating your file...</h1>
            <div>This may take a few minutes. Thanks for your patience.</div>
            <button class="cancel-download-btn" type="button">Cancel</button>
        </div>
        <div class="download-complete hide">
            <div class="done-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"/></svg>
            </div>
            <div>Your file is ready</div>
            <button class="cancel-download-btn" type="button">OK</button>
        </div>
    </div>
</div>
<script>
    $(".cancel-download-btn").click(function(){
        $("#zip-link-popup").addClass("hide");
        $("#zip-link-popup .downloading-progress").removeClass("hide");
        $("#zip-link-popup .download-complete").addClass("hide");
    });
</script></div>
</div>
<script>
  $("#toggleContainerPdf li.active:last-child").parents('ul.subfolders').toggle('display');
  $("#toggleButtonPdf").click(function () {
    $("#toggleContainerPdf").toggle('display');
    $(".n-pdf-body-container .zip-pdf-link-container").toggle('display');
  });
</script><div class="prod-nav" id="product-nav">
  <a target="_self" class="prod-fam-nav" href="https://docs.netapp.com/us-en/cloud-manager-family/"><img src="/us-en/cloud-manager-setup-admin/images/left_arrow.png" alt=""><pre>All BlueXP documentation</pre></a>
</div><div class="sidebar-nav-container" id="mysidebardiv">
  <ul id="mysidebar" class="nav"><li 
      data-pdf-exists="true" 
      data-pdf-filename="Set up and administration docs"
      data-li-level="1#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/index.html">
        Set up and administration docs
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Release notes"
      data-li-level="1" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Release notes</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="What's new"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/whats-new.html">
        What's new
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Limitations"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-limitations.html">
        Limitations
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Get started"
      data-li-level="1" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Get started</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Learn about BlueXP"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-overview.html">
        Learn about BlueXP
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Getting started checklist"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-checklist-cm.html">
        Getting started checklist
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Log in to BlueXP"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-logging-in.html">
        Log in to BlueXP
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Set up a NetApp account"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Set up a NetApp account</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Learn about NetApp accounts"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-netapp-accounts.html">
        Learn about NetApp accounts
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Set up workspaces and users"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-setting-up-netapp-accounts.html">
        Set up workspaces and users
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Set up a Connector"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Set up a Connector</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Learn about Connectors"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-connectors.html">
        Learn about Connectors
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Create a Connector in AWS"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-creating-connectors-aws.html">
        Create a Connector in AWS
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Create a Connector in Azure"
      data-li-level="3#" 
      class="  active "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-creating-connectors-azure.html">
        Create a Connector in Azure
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Create a Connector in Google Cloud"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-creating-connectors-gcp.html">
        Create a Connector in Google Cloud
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Create a Connector in a Government region"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-create-connectors-gov.html">
        Create a Connector in a Government region
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Where to go next"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-whats-next.html">
        Where to go next
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Administer BlueXP"
      data-li-level="1" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Administer BlueXP</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="NetApp accounts"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> NetApp accounts</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Manage your account"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-managing-netapp-accounts.html">
        Manage your account
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Monitor operations in your account"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-monitor-cm-operations.html">
        Monitor operations in your account
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="User roles"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-user-roles.html">
        User roles
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Connectors"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Connectors</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Advanced deployment"
      data-li-level="3" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Advanced deployment</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Create from the AWS Marketplace"
      data-li-level="4#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-launching-aws-mktp.html">
        Create from the AWS Marketplace
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Create from the Azure Marketplace"
      data-li-level="4#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-launching-azure-mktp.html">
        Create from the Azure Marketplace
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Install on your own host with internet"
      data-li-level="4#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-installing-linux.html">
        Install on your own host with internet
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Install on-prem without internet"
      data-li-level="4#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-install-connector-onprem-no-internet.html">
        Install on-prem without internet
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Find the system ID for a Connector"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-finding-system-id.html">
        Find the system ID for a Connector
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Manage existing Connectors"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-managing-connectors.html">
        Manage existing Connectors
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Install an HTTPS certificate"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-installing-https-cert.html">
        Install an HTTPS certificate
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Configure proxy settings"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-configuring-proxy.html">
        Configure proxy settings
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Default configuration"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-connector-default-config.html">
        Default configuration
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Subscriptions"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-manage-subscriptions.html">
        Subscriptions
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Discovered cloud storage"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Discovered cloud storage</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="View your Amazon S3 buckets"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-viewing-amazon-s3.html">
        View your Amazon S3 buckets
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="View your Azure Blob accounts"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-viewing-azure-blob.html">
        View your Azure Blob accounts
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="View your Google Cloud Storage buckets"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-viewing-gcp-storage.html">
        View your Google Cloud Storage buckets
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="AWS credentials"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> AWS credentials</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Overview"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-accounts-aws.html">
        Overview
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Manage credentials and subscriptions"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-adding-aws-accounts.html">
        Manage credentials and subscriptions
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Azure credentials"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Azure credentials</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Overview"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-accounts-azure.html">
        Overview
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Manage credentials and subscriptions"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-adding-azure-accounts.html">
        Manage credentials and subscriptions
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Google Cloud credentials"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Google Cloud credentials</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Overview"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-accounts-gcp.html">
        Overview
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Manage credentials and subscriptions"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-adding-gcp-accounts.html">
        Manage credentials and subscriptions
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="NetApp Support Site accounts"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-adding-nss-accounts.html">
        NetApp Support Site accounts
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Discovery using My Opportunities"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/concept-my-opportunities.html">
        Discovery using My Opportunities
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Reference"
      data-li-level="1" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Reference</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Permissions"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Permissions</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Permissions summary"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-permissions.html">
        Permissions summary
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="AWS permissions for the Connector"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-permissions-aws.html">
        AWS permissions for the Connector
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Azure permissions for the Connector"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-permissions-azure.html">
        Azure permissions for the Connector
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Google Cloud permissions for the Connector"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-permissions-gcp.html">
        Google Cloud permissions for the Connector
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Ports"
      data-li-level="2" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Ports</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Security group rules in AWS"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-ports-aws.html">
        Security group rules in AWS
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Security group rules in Azure"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-ports-azure.html">
        Security group rules in Azure
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Firewall rules in Google Cloud"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-ports-gcp.html">
        Firewall rules in Google Cloud
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Ports for the on-prem Connector"
      data-li-level="3#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/reference-ports-on-prem.html">
        Ports for the on-prem Connector
      </a></li></ul></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Knowledge and support"
      data-li-level="1" 
      class="subfolders "
    ><a href="#">
        <div class="na-navbar-padding"> Knowledge and support</div>
      </a>
      <ul style="display: none;">
        <li 
      data-pdf-exists="true" 
      data-pdf-filename="Register for support"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-support-registration.html">
        Register for support
      </a></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Get help"
      data-li-level="2#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/task-get-help.html">
        Get help
      </a></li></ul></li><li 
      data-pdf-exists="true" 
      data-pdf-filename="Legal notices"
      data-li-level="1#" 
      class=" "
    ><a class="na-navbar-padding" href="/us-en/cloud-manager-setup-admin/legal-notices.html">
        Legal notices
      </a></li></ul>
</div>
<script>
  window.onscroll = () => {
    const value = -40 - (document.body.scrollHeight - (window.innerHeight + document.scrollingElement.scrollTop));
    
    document.getElementById("sidebar-height").style.bottom = Math.max(0,value) + "px";
};
</script>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>
<script>$("#mysidebar li.active").parents('ul').css("display","block");</script>


  </div>
  

  <div class="ie-content-pane n-doc__component-detail-content n-doc__component-detail-content--show-code">
    <!-- Begin of page container --><article class="page-content" id="main">
      <div class="ie-utility">
  <button id="btn-sidebar-expand" onclick="showSidebar()"><img src="/us-en/cloud-manager-setup-admin/images/expand.png" alt="Expand navigation panel"></button>
  <div class="ie-menu">
    <div class="n-breadcrumb">
      <ul class="n-breadcrumb__list">
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com">docs.netapp.com</a>
        </li>
        
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com/us-en/cloud/">Cloud Docs</a>
        </li>
        

        
        <li class="n-breadcrumb__list-item">
          <a href="https://docs.netapp.com/us-en/cloud-manager-family/">BlueXP</a>
        </li>
        

        <li class="n-breadcrumb__list-item">
          <a href="/us-en/cloud-manager-setup-admin/">Set&nbsp;up&nbsp;and&nbsp;administration</a>
        </li>

      </ul>
    </div>
    <div style="clear: both"></div><!-- Main needs to have height -->
  </div>
</div>

      <div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Create a Connector in Azure from BlueXP</h1>
</div>


<p class="page-details">
  
    
    <time datetime="2023-02-01 16:28:07 +0000">02/01/2023</time>
    
  

<span>Contributors
  <a target="_blank" class="ext-link-indicator" href="https://github.com/netapp-bcammett">
    <img  class="avatar avatar-small"
          alt="netapp-bcammett"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/18287750?v=4"
          style="border-radius: 50%;"/>
  </a>
  
  <a target="_blank" class="ext-link-indicator" href="https://github.com/netapp-tonacki">
    <img  class="avatar avatar-small"
          alt="netapp-tonacki"
          width="20" height="20"
          src="https://avatars.githubusercontent.com/u/38222299?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>


</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>A BlueXP Account Admin needs to deploy a <em>Connector</em> before you can use most BlueXP features. The Connector enables BlueXP to manage resources and processes within your public cloud environment.</p>
</div>
<div class="paragraph">
<p>These steps describe how to create a Connector in an Azure commercial region directly from the BlueXP SaaS website.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="task-create-connectors-gov.html">Learn how to deploy a Connector in a Government region</a></p>
</li>
<li>
<p><a href="concept-connectors.html#how-to-create-a-connector">Learn about other ways to deploy a Connector</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview">Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy a Connector, you need to provide BlueXP with a login that has the required permissions to create the Connector VM in Azure.</p>
</div>
<div class="paragraph">
<p>You have two options:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sign in with your Microsoft account when prompted. This account must have specific Azure permissions. This is the default option.</p>
<div class="paragraph">
<p><a href="#create-a-connector-using-your-azure-account">Follow the steps below to get started</a>.</p>
</div>
</li>
<li>
<p>Provide details about an Azure AD service principal. This service principal also requires specific permissions.</p>
<div class="paragraph">
<p><a href="#create-a-connector-using-a-service-principal">Follow the steps below to get started</a>.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="a-note-about-azure-regions">A note about Azure regions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Connector should be deployed in the same Azure region as the Cloud Volumes ONTAP systems that it manages, or in the <a href="https://docs.microsoft.com/en-us/azure/availability-zones/cross-region-replication-azure#azure-cross-region-replication-pairings-for-all-geographies" target="_blank" rel="noopener">Azure region pair</a> for the Cloud Volumes ONTAP systems. This requirement ensures that an Azure Private Link connection is used between Cloud Volumes ONTAP and its associated storage accounts.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-enabling-private-link.html" target="_blank" rel="noopener">Learn how Cloud Volumes ONTAP uses an Azure Private Link</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="set-up-networking">Set up networking</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Set up your networking so the Connector can manage resources and processes within your public cloud environment. Other than having a virtual network and subnet for the Connector, you&#8217;ll need to ensure that the following requirements are met.</p>
</div>
<div class="sect2">
<h3 id="connection-to-target-networks">Connection to target networks</h3>
<div class="paragraph">
<p>A Connector requires a network connection to the type of working environment that you&#8217;re creating and the services that you&#8217;re planning to enable.</p>
</div>
<div class="paragraph">
<p>For example, if you install a Connector in your corporate network, then you must set up a VPN connection to the virtual network in which you launch Cloud Volumes ONTAP.</p>
</div>
</div>
<div class="sect2">
<h3 id="outbound-internet-access">Outbound internet access</h3>
<div class="paragraph">
<p>The Connector requires outbound internet access to manage resources and processes within your public cloud environment.</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Endpoints</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://management.azure.com<br>
https://login.microsoftonline.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To manage resources in Azure public regions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://management.usgovcloudapi.net<br>
https://login.microsoftonline.us</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To manage resources in Azure Government regions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://management.azure.microsoft.scloud<br>
https://login.microsoftonline.microsoft.scloud</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To manage resources in the Azure IL6 region.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://management.chinacloudapi.cn<br>
https://login.chinacloudapi.cn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To manage resources in Azure China regions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://support.netapp.com</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To obtain licensing information and to send AutoSupport messages to NetApp support.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>https://*.api.bluexp.netapp.com</p>
</div>
<div class="paragraph">
<p>https://api.bluexp.netapp.com</p>
</div>
<div class="paragraph">
<p>https://*.cloudmanager.cloud.netapp.com</p>
</div>
<div class="paragraph">
<p>https://cloudmanager.cloud.netapp.com</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>To provide SaaS features and services within BlueXP.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/cloud-manager-setup-admin/images/note.svg" alt="Note">
</td>
<td class="content">
The Connector is currently contacting "cloudmanager.cloud.netapp.com" but it will start contacting "api.bluexp.netapp.com" in an upcoming release.
</td>
</tr>
</table>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">https://cloudmanagerinfraprod.azurecr.io<br>
<br>
https://*.blob.core.windows.net</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To upgrade the Connector and its Docker components.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="proxy-server">Proxy server</h3>
<div class="paragraph">
<p>If your organization requires deployment of a proxy server for all outgoing internet traffic, obtain the following information about your HTTP or HTTPS proxy:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IP address</p>
</li>
<li>
<p>Credentials</p>
</li>
<li>
<p>HTTPS certificate</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="security-group">Security group</h3>
<div class="paragraph">
<p>There&#8217;s no incoming traffic to the Connector, unless you initiate it or if the Connector is used as a proxy for AutoSupport messages. HTTP and HTTPS provide access to the <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/concept-connectors.html#the-local-user-interface">local UI</a>, which you&#8217;ll use in rare circumstances. SSH is only needed if you need to connect to the host for troubleshooting.</p>
</div>
</div>
<div class="sect2">
<h3 id="ip-address-limitation">IP address limitation</h3>
<div class="paragraph">
<p>There&#8217;s a possible conflict with IP addresses in the 172 range. <a href="https://docs.netapp.com/us-en/cloud-manager-setup-admin/reference-limitations.html">Learn more about this limitation</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-connector-using-your-azure-account">Create a Connector using your Azure account</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The default way to create a Connector in Azure is by logging in with your Azure account when prompted. The login form is owned and hosted by Microsoft. Your credentials are not provided to NetApp.</p>
</div>
<div class="sect2">
<h3 id="set-up-permissions-for-your-azure-account">Set up permissions for your Azure account</h3>
<div class="paragraph">
<p>Before you can deploy a Connector from BlueXP, you need to ensure that your Azure account has the correct permissions.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Copy the required permissions for a new custom role in Azure and save them in a JSON file.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/cloud-manager-setup-admin/images/note.svg" alt="Note">
</td>
<td class="content">
This policy contains only the permissions needed to launch the Connector VM in Azure from BlueXP. Don&#8217;t use this policy for other situations. When BlueXP creates the Connector, it applies a new set of permissions to the Connector VM that enables the Connector to manage the resources in your public cloud environment.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "Name": "Azure SetupAsService",
    "Actions": [
        "Microsoft.Compute/disks/delete",
        "Microsoft.Compute/disks/read",
        "Microsoft.Compute/disks/write",
        "Microsoft.Compute/locations/operations/read",
        "Microsoft.Compute/operations/read",
        "Microsoft.Compute/virtualMachines/instanceView/read",
        "Microsoft.Compute/virtualMachines/read",
        "Microsoft.Compute/virtualMachines/write",
        "Microsoft.Compute/virtualMachines/delete",
        "Microsoft.Compute/virtualMachines/extensions/write",
        "Microsoft.Compute/virtualMachines/extensions/read",
        "Microsoft.Compute/availabilitySets/read",
        "Microsoft.Network/locations/operationResults/read",
        "Microsoft.Network/locations/operations/read",
        "Microsoft.Network/networkInterfaces/join/action",
        "Microsoft.Network/networkInterfaces/read",
        "Microsoft.Network/networkInterfaces/write",
        "Microsoft.Network/networkInterfaces/delete",
        "Microsoft.Network/networkSecurityGroups/join/action",
        "Microsoft.Network/networkSecurityGroups/read",
        "Microsoft.Network/networkSecurityGroups/write",
        "Microsoft.Network/virtualNetworks/checkIpAddressAvailability/read",
        "Microsoft.Network/virtualNetworks/read",
        "Microsoft.Network/virtualNetworks/subnets/join/action",
        "Microsoft.Network/virtualNetworks/subnets/read",
        "Microsoft.Network/virtualNetworks/subnets/virtualMachines/read",
        "Microsoft.Network/virtualNetworks/virtualMachines/read",
        "Microsoft.Network/publicIPAddresses/write",
        "Microsoft.Network/publicIPAddresses/read",
        "Microsoft.Network/publicIPAddresses/delete",
        "Microsoft.Network/networkSecurityGroups/securityRules/read",
        "Microsoft.Network/networkSecurityGroups/securityRules/write",
        "Microsoft.Network/networkSecurityGroups/securityRules/delete",
        "Microsoft.Network/publicIPAddresses/join/action",
        "Microsoft.Network/locations/virtualNetworkAvailableEndpointServices/read",
        "Microsoft.Network/networkInterfaces/ipConfigurations/read",
        "Microsoft.Resources/deployments/operations/read",
        "Microsoft.Resources/deployments/read",
        "Microsoft.Resources/deployments/delete",
        "Microsoft.Resources/deployments/cancel/action",
        "Microsoft.Resources/deployments/validate/action",
        "Microsoft.Resources/resources/read",
        "Microsoft.Resources/subscriptions/operationresults/read",
        "Microsoft.Resources/subscriptions/resourceGroups/delete",
        "Microsoft.Resources/subscriptions/resourceGroups/read",
        "Microsoft.Resources/subscriptions/resourcegroups/resources/read",
        "Microsoft.Resources/subscriptions/resourceGroups/write",
        "Microsoft.Authorization/roleDefinitions/write",
        "Microsoft.Authorization/roleAssignments/write",
        "Microsoft.MarketplaceOrdering/offertypes/publishers/offers/plans/agreements/read",
        "Microsoft.MarketplaceOrdering/offertypes/publishers/offers/plans/agreements/write",
        "Microsoft.Network/networkSecurityGroups/delete",
        "Microsoft.Storage/storageAccounts/delete",
        "Microsoft.Storage/storageAccounts/write",
        "Microsoft.Resources/deployments/write",
        "Microsoft.Resources/deployments/operationStatuses/read",
        "Microsoft.Authorization/roleAssignments/read"
    ],
    "NotActions": [],
    "AssignableScopes": [],
    "Description": "Azure SetupAsService",
    "IsCustom": "true"
}</code></pre>
</div>
</div>
</li>
<li>
<p>Modify the JSON by adding your Azure subscription ID to the assignable scope.</p>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"AssignableScopes": [
"/subscriptions/d333af45-0d07-4154-943d-c25fbzzzzzzz"
],</code></pre>
</div>
</div>
</li>
<li>
<p>Use the JSON file to create a custom role in Azure.</p>
<div class="paragraph">
<p>The following steps describe how to create the role by using Bash in Azure Cloud Shell.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Start <a href="https://docs.microsoft.com/en-us/azure/cloud-shell/overview" target="_blank" rel="noopener">Azure Cloud Shell</a> and choose the Bash environment.</p>
</li>
<li>
<p>Upload the JSON file.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_shell_upload.png" alt="A screenshot of the Azure Cloud Shell where you can choose the option to upload a file."></span></p>
</div>
</li>
<li>
<p>Enter the following Azure CLI command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-azurecli" data-lang="azurecli">az role definition create --role-definition Policy_for_Setup_As_Service_Azure.json</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You should now have a custom role called <em>Azure SetupAsService</em>.</p>
</div>
</li>
<li>
<p>Assign the role to the user who will deploy the Connector from BlueXP:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open the <strong>Subscriptions</strong> service and select the user&#8217;s subscription.</p>
</li>
<li>
<p>Click <strong>Access control (IAM)</strong>.</p>
</li>
<li>
<p>Click <strong>Add</strong> &gt; <strong>Add role assignment</strong> and then add the permissions:</p>
<div class="ulist">
<ul>
<li>
<p>Select the <strong>Azure SetupAsService</strong> role and click <strong>Next</strong>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/cloud-manager-setup-admin/images/note.svg" alt="Note">
</td>
<td class="content">
Azure SetupAsService is the default name provided in the Connector deployment policy for Azure. If you chose a different name for the role, then select that name instead.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Keep <strong>User, group, or service principal</strong> selected.</p>
</li>
<li>
<p>Click <strong>Select members</strong>, choose your user account, and click <strong>Select</strong>.</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
<li>
<p>Click <strong>Review + assign</strong>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>The Azure user now has the permissions required to deploy the Connector from BlueXP.</p>
</div>
</div>
<div class="sect2">
<h3 id="create-the-connector-by-logging-in-with-your-azure-account">Create the Connector by logging in with your Azure account</h3>
<div class="paragraph">
<p>BlueXP enables you to create a Connector in Azure directly from its user interface.</p>
</div>
<div class="ulist">
<div class="title">What you&#8217;ll need</div>
<ul>
<li>
<p>An Azure subscription.</p>
</li>
<li>
<p>A VNet and subnet in your Azure region of choice.</p>
</li>
<li>
<p>If you don&#8217;t want BlueXP to automatically create an Azure role for the Connector, then you&#8217;ll need to create your own <a href="reference-permissions-azure.html">using the policy on this page</a>.</p>
<div class="paragraph">
<p>These permissions are for the Connector instance itself. It&#8217;s a different set of permissions than what you previously set up to simply deploy the Connector.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>If you&#8217;re creating your first Working Environment, click <strong>Add Working Environment</strong> and follow the prompts. Otherwise, click the <strong>Connector</strong> drop-down and select <strong>Add Connector</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_connector_add.gif" alt="A screenshot that shows the Connector icon in the header and the Add Connector action."></span></p>
</div>
</li>
<li>
<p>Choose <strong>Microsoft Azure</strong> as your cloud provider.</p>
</li>
<li>
<p>On the <strong>Deploying a Connector</strong> page, review the details about what you&#8217;ll need. You have two options:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <strong>Continue</strong> to prepare for deployment by using the in-product guide. Each step include information contained on this page of the documentation.</p>
</li>
<li>
<p>Click <strong>Skip to Deployment</strong> if you already prepared by following the steps on this page.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Follow the steps in the wizard to create the Connector:</p>
<div class="ulist">
<ul>
<li>
<p>If you&#8217;re prompted, log in to your Microsoft account, which should have the required permissions to create the virtual machine.</p>
<div class="paragraph">
<p>The form is owned and hosted by Microsoft. Your credentials are not provided to NetApp.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<img src="/us-en/cloud-manager-setup-admin/images/tip.svg" alt="Tip">
</td>
<td class="content">
If you&#8217;re already logged in to an Azure account, then BlueXP will automatically use that account. If you have multiple accounts, then you might need to log out first to ensure that you&#8217;re using the right account.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>VM Authentication</strong>: Choose an Azure subscription, a location, a new resource group or an existing resource group, and then choose an authentication method.</p>
</li>
<li>
<p><strong>Details</strong>: Enter a name for the instance, specify tags, and choose whether you want BlueXP to create a new role that has the required permissions, or if you want to select an existing role that you set up with <a href="reference-permissions-azure.html">the required permissions</a>.</p>
<div class="paragraph">
<p>Note that you can choose the subscriptions associated with this role. Each subscription that you choose provides the Connector with permissions to deploy Cloud Volumes ONTAP in those subscriptions.</p>
</div>
</li>
<li>
<p><strong>Network</strong>: Choose a VNet and subnet, whether to enable a public IP address, and optionally specify a proxy configuration.</p>
</li>
<li>
<p><strong>Security Group</strong>: Choose whether to create a new security group or whether to select an existing security group that allows inbound HTTP, HTTPS, and SSH access.</p>
</li>
<li>
<p><strong>Review</strong>: Review your selections to verify that your set up is correct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
<div class="paragraph">
<p>The virtual machine should be ready in about 7 minutes. You should stay on the page until the process is complete.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>You need to associate a Connector with workspaces so Workspace Admins can use those Connectors to create Cloud Volumes ONTAP systems. If you only have Account Admins, then associating the Connector with workspaces isn’t required. Account Admins have the ability to access all workspaces in BlueXP by default. <a href="task-setting-up-netapp-accounts.html#associating-connectors-with-workspaces">Learn more</a>.</p>
</div>
<div class="paragraph">
<p>If you have Azure Blob storage in the same Azure account where you created the Connector, you&#8217;ll see an Azure Blob working environment appear on the Canvas automatically. <a href="task-viewing-azure-blob.html">Learn more about what you can do with this working environment</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-a-connector-using-a-service-principal">Create a Connector using a service principal</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Rather than logging in with you Azure account, you also have the option to provide BlueXP with the credentials for an Azure service principal that has the required permissions.</p>
</div>
<div class="sect2">
<h3 id="granting-azure-permissions-using-a-service-principal">Granting Azure permissions using a service principal</h3>
<div class="paragraph">
<p>Grant the required permissions to deploy a Connector in Azure by creating and setting up a service principal in Azure Active Directory and by obtaining the Azure credentials that BlueXP needs.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p><a href="#create-an-azure-active-directory-application">Create an Azure Active Directory application</a>.</p>
</li>
<li>
<p><a href="#assign-the-application-to-a-role">Assign the application to a role</a>.</p>
</li>
<li>
<p><a href="#add-windows-azure-service-management-api-permissions">Add Windows Azure Service Management API permissions</a>.</p>
</li>
<li>
<p><a href="#ids">Get the application ID and directory ID</a>.</p>
</li>
<li>
<p><a href="#create-a-client-secret">Create a client secret</a>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="create-an-azure-active-directory-application">Create an Azure Active Directory application</h4>
<div class="paragraph">
<p>Create an Azure Active Directory (AD) application and service principal that BlueXP can use to deploy the Connector.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>You must have the right permissions in Azure to create an Active Directory application and to assign the application to a role. For details, refer to <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal#required-permissions/" target="_blank" rel="noopener">Microsoft Azure Documentation: Required permissions</a>.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>From the Azure portal, open the <strong>Azure Active Directory</strong> service.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_ad.gif" alt="Shows the Active Directory service in Microsoft Azure."></span></p>
</div>
</li>
<li>
<p>In the menu, click <strong>App registrations</strong>.</p>
</li>
<li>
<p>Click <strong>New registration</strong>.</p>
</li>
<li>
<p>Specify details about the application:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Name</strong>: Enter a name for the application.</p>
</li>
<li>
<p><strong>Account type</strong>: Select an account type (any will work with BlueXP).</p>
</li>
<li>
<p><strong>Redirect URI</strong>: You can leave this field blank.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Register</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>You&#8217;ve created the AD application and service principal.</p>
</div>
</div>
<div class="sect3">
<h4 id="assign-the-application-to-a-role">Assign the application to a role</h4>
<div class="paragraph">
<p>You must bind the service principal to the Azure subscription in which you plan to deploy the Connector and assign it the custom "Azure SetupAsService" role.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Copy the required permissions for a new custom role in Azure and save them in a JSON file.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<img src="/us-en/cloud-manager-setup-admin/images/note.svg" alt="Note">
</td>
<td class="content">
This policy contains only the permissions needed to launch the Connector VM in Azure from BlueXP. Don&#8217;t use this policy for other situations. When BlueXP creates the Connector, it applies a new set of permissions to the Connector VM that enables the Connector to manage the resources in your public cloud environment.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">{
    "Name": "Azure SetupAsService",
    "Actions": [
        "Microsoft.Compute/disks/delete",
        "Microsoft.Compute/disks/read",
        "Microsoft.Compute/disks/write",
        "Microsoft.Compute/locations/operations/read",
        "Microsoft.Compute/operations/read",
        "Microsoft.Compute/virtualMachines/instanceView/read",
        "Microsoft.Compute/virtualMachines/read",
        "Microsoft.Compute/virtualMachines/write",
        "Microsoft.Compute/virtualMachines/delete",
        "Microsoft.Compute/virtualMachines/extensions/write",
        "Microsoft.Compute/virtualMachines/extensions/read",
        "Microsoft.Compute/availabilitySets/read",
        "Microsoft.Network/locations/operationResults/read",
        "Microsoft.Network/locations/operations/read",
        "Microsoft.Network/networkInterfaces/join/action",
        "Microsoft.Network/networkInterfaces/read",
        "Microsoft.Network/networkInterfaces/write",
        "Microsoft.Network/networkInterfaces/delete",
        "Microsoft.Network/networkSecurityGroups/join/action",
        "Microsoft.Network/networkSecurityGroups/read",
        "Microsoft.Network/networkSecurityGroups/write",
        "Microsoft.Network/virtualNetworks/checkIpAddressAvailability/read",
        "Microsoft.Network/virtualNetworks/read",
        "Microsoft.Network/virtualNetworks/subnets/join/action",
        "Microsoft.Network/virtualNetworks/subnets/read",
        "Microsoft.Network/virtualNetworks/subnets/virtualMachines/read",
        "Microsoft.Network/virtualNetworks/virtualMachines/read",
        "Microsoft.Network/publicIPAddresses/write",
        "Microsoft.Network/publicIPAddresses/read",
        "Microsoft.Network/publicIPAddresses/delete",
        "Microsoft.Network/networkSecurityGroups/securityRules/read",
        "Microsoft.Network/networkSecurityGroups/securityRules/write",
        "Microsoft.Network/networkSecurityGroups/securityRules/delete",
        "Microsoft.Network/publicIPAddresses/join/action",
        "Microsoft.Network/locations/virtualNetworkAvailableEndpointServices/read",
        "Microsoft.Network/networkInterfaces/ipConfigurations/read",
        "Microsoft.Resources/deployments/operations/read",
        "Microsoft.Resources/deployments/read",
        "Microsoft.Resources/deployments/delete",
        "Microsoft.Resources/deployments/cancel/action",
        "Microsoft.Resources/deployments/validate/action",
        "Microsoft.Resources/resources/read",
        "Microsoft.Resources/subscriptions/operationresults/read",
        "Microsoft.Resources/subscriptions/resourceGroups/delete",
        "Microsoft.Resources/subscriptions/resourceGroups/read",
        "Microsoft.Resources/subscriptions/resourcegroups/resources/read",
        "Microsoft.Resources/subscriptions/resourceGroups/write",
        "Microsoft.Authorization/roleDefinitions/write",
        "Microsoft.Authorization/roleAssignments/write",
        "Microsoft.MarketplaceOrdering/offertypes/publishers/offers/plans/agreements/read",
        "Microsoft.MarketplaceOrdering/offertypes/publishers/offers/plans/agreements/write",
        "Microsoft.Network/networkSecurityGroups/delete",
        "Microsoft.Storage/storageAccounts/delete",
        "Microsoft.Storage/storageAccounts/write",
        "Microsoft.Resources/deployments/write",
        "Microsoft.Resources/deployments/operationStatuses/read",
        "Microsoft.Authorization/roleAssignments/read"
    ],
    "NotActions": [],
    "AssignableScopes": [],
    "Description": "Azure SetupAsService",
    "IsCustom": "true"
}</code></pre>
</div>
</div>
</li>
<li>
<p>Modify the JSON file by adding your Azure subscription ID to the assignable scope.</p>
<div class="paragraph">
<p><strong>Example</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">"AssignableScopes": [
"/subscriptions/398e471c-3b42-4ae7-9b59-ce5bbzzzzzzz"</code></pre>
</div>
</div>
</li>
<li>
<p>Use the JSON file to create a custom role in Azure.</p>
<div class="paragraph">
<p>The following steps describe how to create the role by using Bash in Azure Cloud Shell.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Start <a href="https://docs.microsoft.com/en-us/azure/cloud-shell/overview" target="_blank" rel="noopener">Azure Cloud Shell</a> and choose the Bash environment.</p>
</li>
<li>
<p>Upload the JSON file.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_shell_upload.png" alt="A screenshot of the Azure Cloud Shell where you can choose the option to upload a file."></span></p>
</div>
</li>
<li>
<p>Enter the following Azure CLI command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-azurecli" data-lang="azurecli">az role definition create --role-definition Policy_for_Setup_As_Service_Azure.json</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>You should now have a custom role called <em>Azure SetupAsService</em>.</p>
</div>
</li>
<li>
<p>Assign the application to the role:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>From the Azure portal, open the <strong>Subscriptions</strong> service.</p>
</li>
<li>
<p>Select the subscription.</p>
</li>
<li>
<p>Click <strong>Access control (IAM) &gt; Add &gt; Add role assignment</strong>.</p>
</li>
<li>
<p>In the <strong>Role</strong> tab, select the <strong>Azure SetupAsService</strong> role and click <strong>Next</strong>.</p>
</li>
<li>
<p>In the <strong>Members</strong> tab, complete the following steps:</p>
<div class="ulist">
<ul>
<li>
<p>Keep <strong>User, group, or service principal</strong> selected.</p>
</li>
<li>
<p>Click <strong>Select members</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot-azure-service-principal-role.png" alt="A screenshot of the Azure portal that shows the Members tab when adding a role to an application."></span></p>
</div>
</li>
<li>
<p>Search for the name of the application.</p>
<div class="paragraph">
<p>Here&#8217;s an example:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_service_principal_role.png" alt="A screenshot of the Azure portal that shows the Add role assignment form in the Azure portal."></span></p>
</div>
</li>
<li>
<p>Select the application and click <strong>Select</strong>.</p>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Review + assign</strong>.</p>
<div class="paragraph">
<p>The service principal now has the required Azure permissions to deploy the Connector.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="add-windows-azure-service-management-api-permissions">Add Windows Azure Service Management API permissions</h4>
<div class="paragraph">
<p>The service principal must have "Windows Azure Service Management API" permissions.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>In the <strong>Azure Active Directory</strong> service, click <strong>App registrations</strong> and select the application.</p>
</li>
<li>
<p>Click <strong>API permissions &gt; Add a permission</strong>.</p>
</li>
<li>
<p>Under <strong>Microsoft APIs</strong>, select <strong>Azure Service Management</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_service_mgmt_apis.gif" alt="A screenshot of the Azure portal that shows the Azure Service Management API permissions."></span></p>
</div>
</li>
<li>
<p>Click <strong>Access Azure Service Management as organization users</strong> and then click <strong>Add permissions</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_service_mgmt_apis_add.gif" alt="A screenshot of the Azure portal that shows adding the Azure Service Management APIs."></span></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="ids">Get the application ID and directory ID</h4>
<div class="paragraph">
<p>When you create the Connector from BlueXP, you need to provide the application (client) ID and the directory (tenant) ID for the application. BlueXP uses the IDs to programmatically sign in.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>In the <strong>Azure Active Directory</strong> service, click <strong>App registrations</strong> and select the application.</p>
</li>
<li>
<p>Copy the <strong>Application (client) ID</strong> and the <strong>Directory (tenant) ID</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_app_ids.gif" alt="A screenshot that shows the application (client) ID and directory (tenant) ID for an application in Azure Active Directory."></span></p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="create-a-client-secret">Create a client secret</h4>
<div class="paragraph">
<p>You need to create a client secret and then provide BlueXP with the value of the secret so BlueXP can use it to authenticate with Azure AD.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Open the <strong>Azure Active Directory</strong> service.</p>
</li>
<li>
<p>Click <strong>App registrations</strong> and select your application.</p>
</li>
<li>
<p>Click <strong>Certificates &amp; secrets &gt; New client secret</strong>.</p>
</li>
<li>
<p>Provide a description of the secret and a duration.</p>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
</li>
<li>
<p>Copy the value of the client secret.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_azure_client_secret.gif" alt="A screenshot of the Azure portal that shows a client secret for the Azure AD service principal."></span></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Result</div>
<p>Your service principal is now setup and you should have copied the application (client) ID, the directory (tenant) ID, and the value of the client secret. You need to enter this information in BlueXP when you create the Connector.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="create-the-connector-by-logging-in-with-the-service-principal">Create the Connector by logging in with the service principal</h3>
<div class="paragraph">
<p>BlueXP enables you to create a Connector in Azure directly from its user interface.</p>
</div>
<div class="ulist">
<div class="title">What you&#8217;ll need</div>
<ul>
<li>
<p>An Azure subscription.</p>
</li>
<li>
<p>A VNet and subnet in your Azure region of choice.</p>
</li>
<li>
<p>Details about a proxy server, if your organization requires a proxy for all outgoing internet traffic:</p>
<div class="ulist">
<ul>
<li>
<p>IP address</p>
</li>
<li>
<p>Credentials</p>
</li>
<li>
<p>HTTPS certificate</p>
</li>
</ul>
</div>
</li>
<li>
<p>If you don&#8217;t want BlueXP to automatically create an Azure role for the Connector, then you&#8217;ll need to create your own <a href="reference-permissions-azure.html">using the policy on this page</a>.</p>
<div class="paragraph">
<p>These permissions are for the Connector instance itself. It&#8217;s a different set of permissions than what you previously set up to simply deploy the Connector.</p>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>If you&#8217;re creating your first Working Environment, click <strong>Add Working Environment</strong> and follow the prompts. Otherwise, click the <strong>Connector</strong> drop-down and select <strong>Add Connector</strong>.</p>
<div class="paragraph">
<p><span class="image"><img src="./media/screenshot_connector_add.gif" alt="A screenshot that shows the Connector icon in the header and the Add Connector action."></span></p>
</div>
</li>
<li>
<p>Choose <strong>Microsoft Azure</strong> as your cloud provider.</p>
</li>
<li>
<p>On the <strong>Deploying a Connector</strong> page:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Under <strong>Authentication</strong>, click <strong>Active Directory service principal</strong> and enter information about the Azure Active Directory service principal that grants the required permissions:</p>
<div class="ulist">
<ul>
<li>
<p>Application (client) ID: See <a href="#ids">Get the application ID and directory ID</a>.</p>
</li>
<li>
<p>Directory (tenant) ID: See <a href="#ids">Get the application ID and directory ID</a>.</p>
</li>
<li>
<p>Client Secret: See <a href="#create-a-client-secret">Create a client secret</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Log in</strong>.</p>
</li>
<li>
<p>You now have two options:</p>
<div class="ulist">
<ul>
<li>
<p>Click <strong>Continue</strong> to prepare for deployment by using the in-product guide. Each step in the in-product guide includes the information that&#8217;s contained on this page of the documentation.</p>
</li>
<li>
<p>Click <strong>Skip to Deployment</strong> if you already prepared by following the steps on this page.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Follow the steps in the wizard to create the Connector:</p>
<div class="ulist">
<ul>
<li>
<p><strong>VM Authentication</strong>: Choose an Azure subscription, a location, a new resource group or an existing resource group, and then choose an authentication method.</p>
</li>
<li>
<p><strong>Details</strong>: Enter a name for the instance, specify tags, and choose whether you want BlueXP to create a new role that has the required permissions, or if you want to select an existing role that you set up with <a href="reference-permissions-azure.html">the required permissions</a>.</p>
<div class="paragraph">
<p>Note that you can choose the subscriptions associated with this role. Each subscription that you choose provides the Connector with permissions to deploy Cloud Volumes ONTAP in those subscriptions.</p>
</div>
</li>
<li>
<p><strong>Network</strong>: Choose a VNet and subnet, whether to enable a public IP address, and optionally specify a proxy configuration.</p>
</li>
<li>
<p><strong>Security Group</strong>: Choose whether to create a new security group or whether to select an existing security group that allows inbound HTTP, HTTPS, and SSH access.</p>
</li>
<li>
<p><strong>Review</strong>: Review your selections to verify that your set up is correct.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Click <strong>Add</strong>.</p>
<div class="paragraph">
<p>The virtual machine should be ready in about 7 minutes. You should stay on the page until the process is complete.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>You need to associate a Connector with workspaces so Workspace Admins can use those Connectors to create Cloud Volumes ONTAP systems. If you only have Account Admins, then associating the Connector with workspaces isn’t required. Account Admins have the ability to access all workspaces in BlueXP by default. <a href="task-setting-up-netapp-accounts.html#associating-connectors-with-workspaces">Learn more</a>.</p>
</div>
<div class="paragraph">
<p>If you have Azure Blob storage in the same Azure account where you created the Connector, you&#8217;ll see an Azure Blob working environment appear on the Canvas automatically. <a href="task-viewing-azure-blob.html">Learn more about what you can do with this working environment</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="open-port-3128-for-autosupport-messages">Open port 3128 for AutoSupport messages</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you plan to deploy Cloud Volumes ONTAP systems in a subnet where an outbound internet connection won&#8217;t be available, then BlueXP automatically configures Cloud Volumes ONTAP to use the Connector as a proxy server.</p>
</div>
<div class="paragraph">
<p>The only requirement is to ensure that the Connector&#8217;s security group allows <em>inbound</em> connections over port 3128. You&#8217;ll need to open this port after you deploy the Connector.</p>
</div>
<div class="paragraph">
<p>If you use the default security group for Cloud Volumes ONTAP, then no changes are needed to its security group. But if you plan to define strict outbound rules for Cloud Volumes ONTAP, then you&#8217;ll also need to ensure that the Cloud Volumes ONTAP security group allows <em>outbound</em> connections over port 3128.</p>
</div>
</div>
</div>

    </article>
    <!-- Page Container -->
  </div>

  <div style="clear: both"></div><!-- Main needs to have height --></div>

        </main>

        <footer class="n-footer">
  <div class="n-footer__bottom">
    <div class="n-container">
      <div class="n-footer__bottom-left">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/us/legal/copyright.aspx">© 2023 NetApp, Inc.</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/terms-of-use/">Terms of Use</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/privacy-policy/">Privacy Policy</a>
            </li>
            <li class="n-footer__copyright-link">
              <a href="https://www.netapp.com/company/legal/cookie-policy/">Cookie Policy</a>
            </li>
            <li class="n-footer__copyright-link">
              <a class="ot-sdk-show-settings">Cookie Settings</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="n-footer__bottom-right">
        <div class="n-footer__copyright">
          <ul class="n-footer__copyright-list">
            <li class="n-footer__copyright-link">
              <a target="_self" href="javascript:netapp_mailto()">Send feedback about this page</a>
            </li>
          </ul>
        </div>
        <div class="n-footer__social-links">
          <ul class="n-footer__social-link-list">
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-blog" href="https://blog.netapp.com"
                target="_blank" title="blog" alt="blog">
                <span class="n-footer__social-link-text">blog</span>
                <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                  <title>blog@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#blog"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-community" href="https://community.netapp.com/"
                target="_blank" title="community" alt="community">
                <span class="n-footer__social-link-text">community</span>
                <svg class="n-icon-community n-footer__social-link-icon" aria-labelledby="title">
                  <title>community@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#comments"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netapp"
                target="_blank" title="twitter" alt="twitter">
                <span class="n-footer__social-link-text">twitter</span>
                <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                  <title>twitter@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#twitter"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-facebook" href="https://www.facebook.com/NetApp"
                target="_blank" title="facebook" alt="facebook">
                <span class="n-footer__social-link-text">facebook</span>
                <svg class="n-icon-facebook n-footer__social-link-icon" aria-labelledby="title">
                  <title>facebook@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#facebook"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-linkedin"
                href="https://www.linkedin.com/company/netapp" target="_blank" title="linkedin" alt="linkedin">
                <span class="n-footer__social-link-text">linkedin</span>
                <svg class="n-icon-linkedin n-footer__social-link-icon" aria-labelledby="title">
                  <title>linkedin@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#linkedin"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-youtube"
                href="https://www.youtube.com/user/NetAppTV" target="_blank" title="youtube" alt="youtube">
                <span class="n-footer__social-link-text">youtube</span>
                <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                  <title>youtube@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#youtube"></use>
                </svg>
              </a>
            </li>
            <li class="n-footer__social-link-list-item">
              <a class="n-footer__social-link" data-ntap-social="follow-slideshare"
                href="https://www.slideshare.net/NetApp" target="_blank" title="slideshare" alt="slideshare">
                <span class="n-footer__social-link-text">slideshare</span>
                <svg class="n-icon-slideshare n-footer__social-link-icon" aria-labelledby="title">
                  <title>slideshare@</title>
                  <use xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="/us-en/cloud-manager-setup-admin/common/svg/sprite.svg#slideshare"></use>
                </svg>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

      </div><!-- Elasticsearch JS -->
      <script type="text/javascript" src='/us-en/cloud-manager-setup-admin/js/bundle.js'></script>

      <!-- Syntax Highlighting -->
      <script type="text/javascript" src='/us-en/cloud-manager-setup-admin/js/prism.js'></script>
      <script type="text/javascript" src='/us-en/cloud-manager-setup-admin/js/prism-curl.js'></script>
    </div>
    <script>
      document.body.offsetWidth=1903;
      cookieLaw = {}
      cookieLaw.euCountry = "US";
      cookieLaw.invoke = function(){return false;}
    </script>
    <script src='/us-en/cloud-manager-setup-admin/js/www-ntap.js'></script>
    <script src='/us-en/cloud-manager-setup-admin/js/tabbed-blocks.js'></script>
    <script src='/us-en/cloud-manager-setup-admin/js/sidebar.js'></script>
  </body></html>
